% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bnf_functions.R
\name{calc_weed_bnf}
\alias{calc_weed_bnf}
\title{Calculate Weed and Cover Crop Symbiotic BNF}
\usage{
calc_weed_bnf(x, k_n_synth = 0.0035, k_n_org = 0.0018, t_opt = 25, t_sigma = 8)
}
\arguments{
\item{x}{Data frame with weed NPP data. Required columns:
  \describe{
    \item{Weeds_NPP_MgN}{Weed NPP in Mg N.}
    \item{LandUse}{Land use type (Cropland, Grassland, etc.).}
    \item{Legs_Seeded}{Legume fraction in seeded cover crops
      (0-1).}
    \item{Seeded_CC_share}{Share of area with seeded cover crops
      (0-1).}
  }

  Optional environmental columns: see \code{\link{calc_crop_bnf}}.}

\item{k_n_synth}{Numeric. Rate constant for N inhibition by
synthetic N (default 0.0035).}

\item{k_n_org}{Numeric. Rate constant for N inhibition by
organic N (default 0.0018).}

\item{t_opt}{Numeric. Optimal temperature (default 25).}

\item{t_sigma}{Numeric. Temperature Gaussian width (default 8).}
}
\value{
Data frame with added columns:
  \describe{
    \item{Weeds_Ndfa_ref}{Reference Ndfa for weeds.}
    \item{Weeds_Ndfa}{Adjusted Ndfa for weeds.}
    \item{Weeds_leg_share}{Weighted legume fraction.}
    \item{f_env_weed}{Environmental adjustment factor.}
    \item{WeedsBNF}{Weed BNF in Mg N.}
  }
}
\description{
Weed BNF is calculated as:
\deqn{WeedsBNF = Weeds\_NPP\_MgN \times Ndfa_{weeds} \times
  Leg\_share_{weighted}}

Where the weighted legume share accounts for both spontaneous
leguminous weeds and deliberately seeded legume cover crops:
\deqn{Leg\_share = Leg\_spont \times (1 - CC\_share) +
  Leg\_seeded \times CC\_share}

Environmental adjustments (N inhibition, temperature, water) are
applied to the weed Ndfa when the corresponding columns are
present (same mechanism as crop BNF).
}
\details{
Estimates symbiotic BNF from leguminous weeds and seeded cover crops.
The legume fraction in field vegetation is a weighted average of
spontaneous weeds and seeded cover crops, based on management data.


Requires BNF object from `load_general_data()` (reads
"Weeds" row for reference Ndfa and spontaneous legume share).
Cover crop seeded share is only applied on cropland.
}
\examples{
\dontrun{
load_general_data()
weed_data |> calc_weed_bnf()
}
}
\references{
Peoples MB et al. (2009) Symbiosis 48:1-17.
}
